\doxysection{C\+:/\+Users/ivicente/\+Desktop/\+BRANCH\+\_\+\+ACC\+\_\+\+WIFI/src/secure\+\_\+crypto.c File Reference}
\hypertarget{a00047}{}\label{a00047}\index{C:/Users/ivicente/Desktop/BRANCH\_ACC\_WIFI/src/secure\_crypto.c@{C:/Users/ivicente/Desktop/BRANCH\_ACC\_WIFI/src/secure\_crypto.c}}


NetX secure for check certificates. To use these functions you must first call nx\+\_\+init().  


{\ttfamily \#include "{}secure\+\_\+crypto.\+h"{}}\newline
{\ttfamily \#include "{}synergy\+\_\+gen/common\+\_\+data.\+h"{}}\newline
{\ttfamily \#include "{}../synergy/ssp/inc/framework/el/nxd/nx\+\_\+api.\+h"{}}\newline
{\ttfamily \#include "{}../synergy/ssp/inc/framework/el/cm23\+\_\+iar/tx\+\_\+port.\+h"{}}\newline
{\ttfamily \#include "{}../synergy/ssp/src/framework/el/nxd\+\_\+application\+\_\+layer/nxd\+\_\+tls\+\_\+secure/nx\+\_\+secure\+\_\+x509.\+h"{}}\newline
{\ttfamily \#include "{}../synergy/ssp/src/framework/el/nxd\+\_\+application\+\_\+layer/nxd\+\_\+tls\+\_\+secure/nx\+\_\+secure\+\_\+tls\+\_\+api.\+h"{}}\newline
{\ttfamily \#include "{}SCEF/sha2.\+h"{}}\newline
{\ttfamily \#include "{}SCEF/aes.\+h"{}}\newline
{\ttfamily \#include "{}common\+\_\+data.\+h"{}}\newline
Include dependency graph for secure\+\_\+crypto.\+c\+:
% FIG 0
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{a00047_ac1777e1f844347ed30ceafeca4949458}{ASCII\+\_\+\+TO\+\_\+\+DEC}}(x)~(\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}}) ((x $>$= \textquotesingle{}0\textquotesingle{}) ? (x-\/\textquotesingle{}0\textquotesingle{}) \+: 0)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{a00047_a4ea71508fd3754a45081383dce2b8fef}{certificate\+\_\+time}} (const UCHAR \texorpdfstring{$\ast$}{*}time\+\_\+asn1, \mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} length)
\begin{DoxyCompactList}\small\item\em This function conpares certificate validation data with UTC-\/0 data. If the certificate has expired or is going to expire on the same day, its return an error. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{a00047_a194be93715f62cac9647944022809aef}{NX\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em This function initialize NetX system. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} \mbox{\hyperlink{a00047_aa28dd36bf21dbc5a6de72f702a9e0260}{Check\+\_\+\+TLS\+\_\+\+Cacert}} (void)
\begin{DoxyCompactList}\small\item\em This function read TLS CA certificate from SD and check the validity of the certificate. The certificate must be in DER format. DER is a binary encoding for X.\+509 certificate. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} \mbox{\hyperlink{a00047_a2d4a144c2fca7de6f8c228eff5bb255e}{Check\+\_\+\+WPA\+\_\+\+EAP\+\_\+\+Cert}} (void)
\begin{DoxyCompactList}\small\item\em This function read WPA-\/\+EAP certificate from SD and check the validity of the certificate. The certificate must be in DER format. DER is a binary encoding for X.\+509 certificate. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_af7c91f21e106a9c4f7190aa91088341b}{Crypto\+\_\+\+ATECC\+\_\+\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Function to initialize the ATECC608B secure element. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a9495bf897dd771714c7d8969772dc3c2}{Crypto\+\_\+\+ATECC\+\_\+\+Config}} (void)
\begin{DoxyCompactList}\small\item\em Function to configure and lock data and config zone. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{a00047_a5f6c33db5481046f663c49275fd6681f}{Crypto\+\_\+\+ATECC\+\_\+\+Is\+Present}} (void)
\begin{DoxyCompactList}\small\item\em Function to check if ATECC is present. \end{DoxyCompactList}\item 
\mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{a00047_a5958138a098c78007a0101dd4ce35857}{Is\+\_\+\+ATECC\+\_\+\+Initialized}} (void)
\begin{DoxyCompactList}\small\item\em Checks if atecc initialization process completed. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a67f41d2b9732ec05f80c48ee883019d2}{Crypto\+\_\+\+ATECC\+\_\+\+Encrypt\+\_\+\+NFC}} (\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}r\+\_\+w\+\_\+data)
\begin{DoxyCompactList}\small\item\em Function to encrypt file. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_af7102d0a16428208caf8679720ce0738}{Crypto\+\_\+\+ATECC\+\_\+\+Encrypt\+\_\+\+File}} (void)
\begin{DoxyCompactList}\small\item\em Function to encrypt file. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_ad76358be60b9987ce85bc2dee9fb8457}{Crypto\+\_\+\+ATECC\+\_\+\+Decrypt}} (\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}r\+\_\+w\+\_\+data)
\begin{DoxyCompactList}\small\item\em Function to encrypt data. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a3adbe2a78ac92b9c62a56e1ad4651493}{Crypto\+\_\+\+ATECC\+\_\+\+Decrypt\+\_\+\+File}} (void)
\begin{DoxyCompactList}\small\item\em Function to decrypt file. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a8436921bbeae99e5d1dff39b4b46f2ed}{Crypto\+\_\+\+ATECC\+\_\+\+Inject\+\_\+\+Zero}} (void)
\begin{DoxyCompactList}\small\item\em Function to inject in slot. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a331dc32b20633662da2a010ea44c5c9b}{Crypto\+\_\+\+ATECC\+\_\+\+Inject}} (void)
\begin{DoxyCompactList}\small\item\em Function to inject public key and USB key in slot. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_ae5519bd75c4f1192ca68d8376a574234}{Crypto\+\_\+\+ATECC\+\_\+\+Verify}} (bool \texorpdfstring{$\ast$}{*}is\+\_\+verified)
\begin{DoxyCompactList}\small\item\em Function to verify signature. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_ac85f934b12796ea8d753520b18c4058e}{Crypto\+\_\+\+ATECC\+\_\+\+Verify\+\_\+\+Test}} (bool \texorpdfstring{$\ast$}{*}is\+\_\+verified)
\begin{DoxyCompactList}\small\item\em Function to verify signature only for test. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_a6cd4bbf18723fdb1b403c13c2b73bb4b}{Crypto\+\_\+\+ATECC\+\_\+\+SHA256}} (\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}digest)
\begin{DoxyCompactList}\small\item\em Function to generate SHA256. \end{DoxyCompactList}\item 
ATCA\+\_\+\+STATUS \mbox{\hyperlink{a00047_aadac43bf0ff020fc6fc31c4cfb573f41}{Crypto\+\_\+\+ATECC\+\_\+\+SHA256\+\_\+\+HMAC}} (\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}digest)
\begin{DoxyCompactList}\small\item\em Function to generate SHA256 HMAC. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
WIFI\+\_\+\+HEADER\+\_\+t \mbox{\hyperlink{a00047_ae2fb01f116ee4247ac3e36bc0bd04ea7}{wifi\+\_\+header}}
\item 
static FX\+\_\+\+FILE \mbox{\hyperlink{a00047_ab9a7203fea05720a506ebe9a9c3b0ba2}{secure\+\_\+file}}
\item 
atca\+\_\+iface\+\_\+t \mbox{\hyperlink{a00047_a5408cc3673c0f56ed584ee7ca3d36367}{atecc\+\_\+o}}
\item 
ATCAIface\+Cfg \mbox{\hyperlink{a00047_a63d40066203bfbe7ff0bcb9ede78f5fe}{\+\_\+m\+Iface\+CFG}}
\item 
ATCAHAL\+\_\+t \mbox{\hyperlink{a00047_aa8f5ed45563d9403cafe6378e36c9570}{\+\_\+hal}}
\item 
ATCAHAL\+\_\+t \mbox{\hyperlink{a00047_a0e133d339ec283a4acb6ab627930345f}{\+\_\+phy}}
\item 
static \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{a00047_a2df3144cdff621e43c2e29674599268b}{atecc\+\_\+initialized}} = \mbox{\hyperlink{a00137_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
NetX secure for check certificates. To use these functions you must first call nx\+\_\+init(). 

\begin{DoxyVersion}{Version}
v1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
08/10/2021 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
ivicente 
\end{DoxyAuthor}
\begin{DoxyWarning}{Warning}
author date version .-\/ Edition 
\end{DoxyWarning}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{a00257__bug000009}{Bug}}]\end{DoxyRefDesc}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{a00047_ac1777e1f844347ed30ceafeca4949458}\label{a00047_ac1777e1f844347ed30ceafeca4949458} 
\index{secure\_crypto.c@{secure\_crypto.c}!ASCII\_TO\_DEC@{ASCII\_TO\_DEC}}
\index{ASCII\_TO\_DEC@{ASCII\_TO\_DEC}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{ASCII\_TO\_DEC}{ASCII\_TO\_DEC}}
{\footnotesize\ttfamily \#define ASCII\+\_\+\+TO\+\_\+\+DEC(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~(\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}}) ((x $>$= \textquotesingle{}0\textquotesingle{}) ? (x-\/\textquotesingle{}0\textquotesingle{}) \+: 0)}



\doxysubsection{Function Documentation}
\Hypertarget{a00047_a4ea71508fd3754a45081383dce2b8fef}\label{a00047_a4ea71508fd3754a45081383dce2b8fef} 
\index{secure\_crypto.c@{secure\_crypto.c}!certificate\_time@{certificate\_time}}
\index{certificate\_time@{certificate\_time}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{certificate\_time()}{certificate\_time()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} certificate\+\_\+time (\begin{DoxyParamCaption}\item[{const UCHAR \texorpdfstring{$\ast$}{*}}]{time\+\_\+asn1,  }\item[{\mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}}}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function conpares certificate validation data with UTC-\/0 data. If the certificate has expired or is going to expire on the same day, its return an error. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em time\+\_\+asn1} & Certificate data in ASN1 format \\
\hline
\mbox{\texttt{ in}}  & {\em length} & Certificate length\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{a00050_a74fb04594529b5adb108048738d70d16}{CERT\+\_\+\+VALID} 

\doxylink{a00050_a25726ac8e9e8892a0beee93fbadb502a}{CERT\+\_\+\+NOT\+\_\+\+VALID} 
\end{DoxyReturn}
\Hypertarget{a00047_aa28dd36bf21dbc5a6de72f702a9e0260}\label{a00047_aa28dd36bf21dbc5a6de72f702a9e0260} 
\index{secure\_crypto.c@{secure\_crypto.c}!Check\_TLS\_Cacert@{Check\_TLS\_Cacert}}
\index{Check\_TLS\_Cacert@{Check\_TLS\_Cacert}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Check\_TLS\_Cacert()}{Check\_TLS\_Cacert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} Check\+\_\+\+TLS\+\_\+\+Cacert (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function read TLS CA certificate from SD and check the validity of the certificate. The certificate must be in DER format. DER is a binary encoding for X.\+509 certificate. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{a00050_a74fb04594529b5adb108048738d70d16}{CERT\+\_\+\+VALID} 

\doxylink{a00050_a25726ac8e9e8892a0beee93fbadb502a}{CERT\+\_\+\+NOT\+\_\+\+VALID} 
\end{DoxyReturn}
\Hypertarget{a00047_a2d4a144c2fca7de6f8c228eff5bb255e}\label{a00047_a2d4a144c2fca7de6f8c228eff5bb255e} 
\index{secure\_crypto.c@{secure\_crypto.c}!Check\_WPA\_EAP\_Cert@{Check\_WPA\_EAP\_Cert}}
\index{Check\_WPA\_EAP\_Cert@{Check\_WPA\_EAP\_Cert}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Check\_WPA\_EAP\_Cert()}{Check\_WPA\_EAP\_Cert()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00137_a273cf69d639a59973b6019625df33e30}{uint16\+\_\+t}} Check\+\_\+\+WPA\+\_\+\+EAP\+\_\+\+Cert (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function read WPA-\/\+EAP certificate from SD and check the validity of the certificate. The certificate must be in DER format. DER is a binary encoding for X.\+509 certificate. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{a00050_a74fb04594529b5adb108048738d70d16}{CERT\+\_\+\+VALID} 

\doxylink{a00050_a25726ac8e9e8892a0beee93fbadb502a}{CERT\+\_\+\+NOT\+\_\+\+VALID} 
\end{DoxyReturn}
\Hypertarget{a00047_a9495bf897dd771714c7d8969772dc3c2}\label{a00047_a9495bf897dd771714c7d8969772dc3c2} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Config@{Crypto\_ATECC\_Config}}
\index{Crypto\_ATECC\_Config@{Crypto\_ATECC\_Config}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Config()}{Crypto\_ATECC\_Config()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to configure and lock data and config zone. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_ad76358be60b9987ce85bc2dee9fb8457}\label{a00047_ad76358be60b9987ce85bc2dee9fb8457} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Decrypt@{Crypto\_ATECC\_Decrypt}}
\index{Crypto\_ATECC\_Decrypt@{Crypto\_ATECC\_Decrypt}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Decrypt()}{Crypto\_ATECC\_Decrypt()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Decrypt (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{r\+\_\+w\+\_\+data }\end{DoxyParamCaption})}



Function to encrypt data. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a3adbe2a78ac92b9c62a56e1ad4651493}\label{a00047_a3adbe2a78ac92b9c62a56e1ad4651493} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Decrypt\_File@{Crypto\_ATECC\_Decrypt\_File}}
\index{Crypto\_ATECC\_Decrypt\_File@{Crypto\_ATECC\_Decrypt\_File}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Decrypt\_File()}{Crypto\_ATECC\_Decrypt\_File()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Decrypt\+\_\+\+File (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to decrypt file. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_af7102d0a16428208caf8679720ce0738}\label{a00047_af7102d0a16428208caf8679720ce0738} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Encrypt\_File@{Crypto\_ATECC\_Encrypt\_File}}
\index{Crypto\_ATECC\_Encrypt\_File@{Crypto\_ATECC\_Encrypt\_File}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Encrypt\_File()}{Crypto\_ATECC\_Encrypt\_File()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Encrypt\+\_\+\+File (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to encrypt file. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a67f41d2b9732ec05f80c48ee883019d2}\label{a00047_a67f41d2b9732ec05f80c48ee883019d2} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Encrypt\_NFC@{Crypto\_ATECC\_Encrypt\_NFC}}
\index{Crypto\_ATECC\_Encrypt\_NFC@{Crypto\_ATECC\_Encrypt\_NFC}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Encrypt\_NFC()}{Crypto\_ATECC\_Encrypt\_NFC()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Encrypt\+\_\+\+NFC (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{r\+\_\+w\+\_\+data }\end{DoxyParamCaption})}



Function to encrypt file. 


\begin{DoxyParams}{Parameters}
{\em r\+\_\+w\+\_\+data} & data to be encrypted\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_af7c91f21e106a9c4f7190aa91088341b}\label{a00047_af7c91f21e106a9c4f7190aa91088341b} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Init@{Crypto\_ATECC\_Init}}
\index{Crypto\_ATECC\_Init@{Crypto\_ATECC\_Init}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Init()}{Crypto\_ATECC\_Init()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to initialize the ATECC608B secure element. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a331dc32b20633662da2a010ea44c5c9b}\label{a00047_a331dc32b20633662da2a010ea44c5c9b} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Inject@{Crypto\_ATECC\_Inject}}
\index{Crypto\_ATECC\_Inject@{Crypto\_ATECC\_Inject}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Inject()}{Crypto\_ATECC\_Inject()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Inject (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to inject public key and USB key in slot. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a8436921bbeae99e5d1dff39b4b46f2ed}\label{a00047_a8436921bbeae99e5d1dff39b4b46f2ed} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Inject\_Zero@{Crypto\_ATECC\_Inject\_Zero}}
\index{Crypto\_ATECC\_Inject\_Zero@{Crypto\_ATECC\_Inject\_Zero}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Inject\_Zero()}{Crypto\_ATECC\_Inject\_Zero()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Inject\+\_\+\+Zero (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to inject in slot. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a5f6c33db5481046f663c49275fd6681f}\label{a00047_a5f6c33db5481046f663c49275fd6681f} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_IsPresent@{Crypto\_ATECC\_IsPresent}}
\index{Crypto\_ATECC\_IsPresent@{Crypto\_ATECC\_IsPresent}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_IsPresent()}{Crypto\_ATECC\_IsPresent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} Crypto\+\_\+\+ATECC\+\_\+\+Is\+Present (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function to check if ATECC is present. 

\begin{DoxyReturn}{Returns}
TRUE if is Present/ FALSE not present 
\end{DoxyReturn}
\Hypertarget{a00047_a6cd4bbf18723fdb1b403c13c2b73bb4b}\label{a00047_a6cd4bbf18723fdb1b403c13c2b73bb4b} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_SHA256@{Crypto\_ATECC\_SHA256}}
\index{Crypto\_ATECC\_SHA256@{Crypto\_ATECC\_SHA256}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_SHA256()}{Crypto\_ATECC\_SHA256()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+SHA256 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{digest }\end{DoxyParamCaption})}



Function to generate SHA256. 


\begin{DoxyParams}{Parameters}
{\em digest} & Array to save digest\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_aadac43bf0ff020fc6fc31c4cfb573f41}\label{a00047_aadac43bf0ff020fc6fc31c4cfb573f41} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_SHA256\_HMAC@{Crypto\_ATECC\_SHA256\_HMAC}}
\index{Crypto\_ATECC\_SHA256\_HMAC@{Crypto\_ATECC\_SHA256\_HMAC}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_SHA256\_HMAC()}{Crypto\_ATECC\_SHA256\_HMAC()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+SHA256\+\_\+\+HMAC (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{a00137_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{digest }\end{DoxyParamCaption})}



Function to generate SHA256 HMAC. 


\begin{DoxyParams}{Parameters}
{\em digest} & Array to save digest\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_ae5519bd75c4f1192ca68d8376a574234}\label{a00047_ae5519bd75c4f1192ca68d8376a574234} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Verify@{Crypto\_ATECC\_Verify}}
\index{Crypto\_ATECC\_Verify@{Crypto\_ATECC\_Verify}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Verify()}{Crypto\_ATECC\_Verify()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Verify (\begin{DoxyParamCaption}\item[{bool \texorpdfstring{$\ast$}{*}}]{is\+\_\+verified }\end{DoxyParamCaption})}



Function to verify signature. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_ac85f934b12796ea8d753520b18c4058e}\label{a00047_ac85f934b12796ea8d753520b18c4058e} 
\index{secure\_crypto.c@{secure\_crypto.c}!Crypto\_ATECC\_Verify\_Test@{Crypto\_ATECC\_Verify\_Test}}
\index{Crypto\_ATECC\_Verify\_Test@{Crypto\_ATECC\_Verify\_Test}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Crypto\_ATECC\_Verify\_Test()}{Crypto\_ATECC\_Verify\_Test()}}
{\footnotesize\ttfamily ATCA\+\_\+\+STATUS Crypto\+\_\+\+ATECC\+\_\+\+Verify\+\_\+\+Test (\begin{DoxyParamCaption}\item[{bool \texorpdfstring{$\ast$}{*}}]{is\+\_\+verified }\end{DoxyParamCaption})}



Function to verify signature only for test. 

\begin{DoxyReturn}{Returns}
ATCA\+\_\+\+STATUS 
\end{DoxyReturn}
\Hypertarget{a00047_a5958138a098c78007a0101dd4ce35857}\label{a00047_a5958138a098c78007a0101dd4ce35857} 
\index{secure\_crypto.c@{secure\_crypto.c}!Is\_ATECC\_Initialized@{Is\_ATECC\_Initialized}}
\index{Is\_ATECC\_Initialized@{Is\_ATECC\_Initialized}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{Is\_ATECC\_Initialized()}{Is\_ATECC\_Initialized()}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} Is\+\_\+\+ATECC\+\_\+\+Initialized (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Checks if atecc initialization process completed. 

\begin{DoxyReturn}{Returns}
TRUE if atecc initialized and FALSE if not 
\end{DoxyReturn}
\Hypertarget{a00047_a194be93715f62cac9647944022809aef}\label{a00047_a194be93715f62cac9647944022809aef} 
\index{secure\_crypto.c@{secure\_crypto.c}!NX\_Init@{NX\_Init}}
\index{NX\_Init@{NX\_Init}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{NX\_Init()}{NX\_Init()}}
{\footnotesize\ttfamily void NX\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function initialize NetX system. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{a00047_aa8f5ed45563d9403cafe6378e36c9570}\label{a00047_aa8f5ed45563d9403cafe6378e36c9570} 
\index{secure\_crypto.c@{secure\_crypto.c}!\_hal@{\_hal}}
\index{\_hal@{\_hal}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{\_hal}{\_hal}}
{\footnotesize\ttfamily ATCAHAL\+\_\+t \+\_\+hal}

The configured HAL for the interface \Hypertarget{a00047_a63d40066203bfbe7ff0bcb9ede78f5fe}\label{a00047_a63d40066203bfbe7ff0bcb9ede78f5fe} 
\index{secure\_crypto.c@{secure\_crypto.c}!\_mIfaceCFG@{\_mIfaceCFG}}
\index{\_mIfaceCFG@{\_mIfaceCFG}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{\_mIfaceCFG}{\_mIfaceCFG}}
{\footnotesize\ttfamily ATCAIface\+Cfg \+\_\+m\+Iface\+CFG}

Points to previous defined/given Cfg object, the caller manages this \Hypertarget{a00047_a0e133d339ec283a4acb6ab627930345f}\label{a00047_a0e133d339ec283a4acb6ab627930345f} 
\index{secure\_crypto.c@{secure\_crypto.c}!\_phy@{\_phy}}
\index{\_phy@{\_phy}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{\_phy}{\_phy}}
{\footnotesize\ttfamily ATCAHAL\+\_\+t \+\_\+phy}

When a HAL is not a "{}native"{} hal it needs a physical layer to be associated with it \Hypertarget{a00047_a2df3144cdff621e43c2e29674599268b}\label{a00047_a2df3144cdff621e43c2e29674599268b} 
\index{secure\_crypto.c@{secure\_crypto.c}!atecc\_initialized@{atecc\_initialized}}
\index{atecc\_initialized@{atecc\_initialized}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{atecc\_initialized}{atecc\_initialized}}
{\footnotesize\ttfamily \mbox{\hyperlink{a00137_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} atecc\+\_\+initialized = \mbox{\hyperlink{a00137_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}}\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{a00047_a5408cc3673c0f56ed584ee7ca3d36367}\label{a00047_a5408cc3673c0f56ed584ee7ca3d36367} 
\index{secure\_crypto.c@{secure\_crypto.c}!atecc\_o@{atecc\_o}}
\index{atecc\_o@{atecc\_o}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{atecc\_o}{atecc\_o}}
{\footnotesize\ttfamily atca\+\_\+iface\+\_\+t atecc\+\_\+o}

\Hypertarget{a00047_ab9a7203fea05720a506ebe9a9c3b0ba2}\label{a00047_ab9a7203fea05720a506ebe9a9c3b0ba2} 
\index{secure\_crypto.c@{secure\_crypto.c}!secure\_file@{secure\_file}}
\index{secure\_file@{secure\_file}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{secure\_file}{secure\_file}}
{\footnotesize\ttfamily FX\+\_\+\+FILE secure\+\_\+file\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{a00047_ae2fb01f116ee4247ac3e36bc0bd04ea7}\label{a00047_ae2fb01f116ee4247ac3e36bc0bd04ea7} 
\index{secure\_crypto.c@{secure\_crypto.c}!wifi\_header@{wifi\_header}}
\index{wifi\_header@{wifi\_header}!secure\_crypto.c@{secure\_crypto.c}}
\doxysubsubsection{\texorpdfstring{wifi\_header}{wifi\_header}}
{\footnotesize\ttfamily WIFI\+\_\+\+HEADER\+\_\+t wifi\+\_\+header}

