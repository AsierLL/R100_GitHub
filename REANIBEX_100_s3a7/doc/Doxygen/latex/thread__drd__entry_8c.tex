\doxysection{C\+:/\+Users/ivicente/\+Desktop/\+BRANCH\+\_\+\+ACC\+\_\+\+WIFI/src/thread\+\_\+drd\+\_\+entry.c File Reference}
\hypertarget{thread__drd__entry_8c}{}\label{thread__drd__entry_8c}\index{C:/Users/ivicente/Desktop/BRANCH\_ACC\_WIFI/src/thread\_drd\_entry.c@{C:/Users/ivicente/Desktop/BRANCH\_ACC\_WIFI/src/thread\_drd\_entry.c}}
{\ttfamily \#include $<$device\+\_\+init.\+h$>$}\newline
{\ttfamily \#include "{}types\+\_\+basic.\+h"{}}\newline
{\ttfamily \#include "{}types\+\_\+app.\+h"{}}\newline
{\ttfamily \#include "{}event\+\_\+ids.\+h"{}}\newline
{\ttfamily \#include "{}Keypad.\+h"{}}\newline
{\ttfamily \#include "{}DB\+\_\+\+Episode.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+drd\+\_\+entry.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+core\+\_\+entry.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+audio\+\_\+entry.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+core.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+defibrillator.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+pat\+Mon\+\_\+hal.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+sys\+Mon\+\_\+entry.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+comm\+\_\+hal.\+h"{}}\newline
{\ttfamily \#include "{}thread\+\_\+comm\+\_\+entry.\+h"{}}\newline
{\ttfamily \#include "{}ipmk\+\_\+removal.\+h"{}}\newline
Include dependency graph for thread\+\_\+drd\+\_\+entry.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{thread__drd__entry_8c_a0b9eb0143f3960aa8dba920359a0eef5}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+RAW}}~((\mbox{\hyperlink{drd_8h_a7e2271364d5cff6f472a2a5a859083d2}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+DRD}} \texorpdfstring{$\ast$}{*} 1000) / 150)
\begin{DoxyCompactList}\small\item\em ECG captured at 1 Ksps, processed at 150 sps. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{thread__drd__entry_8c_a88892e56b679bcb16ca835aba5b59c50}{i\+PMK\+\_\+\+FRONT\+\_\+\+PORCH}}~8
\begin{DoxyCompactList}\small\item\em Front porch used in the i\+PMK removal (must be bigger than the shadow defined in the i\+PMK\+\_\+removal function) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT}}~(\mbox{\hyperlink{thread__drd__entry_8c_a88892e56b679bcb16ca835aba5b59c50}{i\+PMK\+\_\+\+FRONT\+\_\+\+PORCH}} + \mbox{\hyperlink{thread__drd__entry_8c_a0b9eb0143f3960aa8dba920359a0eef5}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+RAW}})
\begin{DoxyCompactList}\small\item\em ECG buffer to store an extended raw (includes i\+PMK removed) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a19acc858a547116cc99b405691f85608}{ecg\+\_\+win\+\_\+raw\+\_\+t}}\mbox{[}\mbox{\hyperlink{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT}}\mbox{]}
\begin{DoxyCompactList}\small\item\em ECG captured samples. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a9f54678ef902e0c16555d98e4ca2538c}{ecg\+\_\+win\+\_\+drd\+\_\+t}}\mbox{[}\mbox{\hyperlink{drd_8h_a7e2271364d5cff6f472a2a5a859083d2}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+DRD}}\mbox{]}
\begin{DoxyCompactList}\small\item\em ECG samples to be processed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_aacbcb665fe537222e7b96f111e61ae94}{DRD\+\_\+\+Analyze}} (\mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} init, \mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}} \texorpdfstring{$\ast$}{*}p\+Rhythm, \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} adult)
\begin{DoxyCompactList}\small\item\em gets the ecg, adapts it and performs the analysis \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{thread__drd__entry_8c_abbbf55ad0a3342ceaf347eb3b2e615e0}{Downsample\+\_\+\+ECG}} (\mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Src, \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Dst)
\begin{DoxyCompactList}\small\item\em downsamples from 1000Hz to 150Hz. As division is not exact 7,6,7,7,6,7... src samples are used to generate a dst sample. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} \mbox{\hyperlink{thread__drd__entry_8c_aeb1975ec3e8162dc709c60acc76806fc}{Diagnose}} (\mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}} r\+Prev, \mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}} r\+Curr)
\begin{DoxyCompactList}\small\item\em gives a diagnosis based on the last two rythm classification \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{thread__drd__entry_8c_acab42b4fc314a847629b30176678f841}{Execute\+\_\+\+DRD}} (void)
\begin{DoxyCompactList}\small\item\em Execute and monitor the DRD execution. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{thread__drd__entry_8c_a4a8ef9e7fadb3d1f81ac4ca405a954f7}{Send\+\_\+\+DRD\+\_\+\+Queue}} (\mbox{\hyperlink{event__ids_8h_a610cd7de90c58acf8dfb3345f1e53697}{EVENT\+\_\+\+ID\+\_\+e}} ev)
\begin{DoxyCompactList}\small\item\em Process events related to DRD. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread__drd__entry_8c_ae7693334ab794c75495e50a59d09fbe2}{DRD\+\_\+\+Start\+\_\+\+Analysis}} ()
\begin{DoxyCompactList}\small\item\em Start DRD analysis algorithm. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread__drd__entry_8c_ababb96cb65ae9fa237773082c69b0b9c}{DRD\+\_\+\+Stop\+\_\+\+Analysis}} ()
\begin{DoxyCompactList}\small\item\em Stop DRD Analysis. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread__drd__entry_8c_a72940a1f7515f9d42ef708a671d73f81}{DRD\+\_\+\+Diag\+\_\+\+Ready}} ()
\begin{DoxyCompactList}\small\item\em DRD\+\_\+\+Diag\+\_\+\+Ready. \end{DoxyCompactList}\item 
\mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a1c1760dc4053276d1992666efc9dd6cf}{DRD\+\_\+\+Is\+\_\+\+Running}} ()
\begin{DoxyCompactList}\small\item\em Check if DRD is running. \end{DoxyCompactList}\item 
\mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} \mbox{\hyperlink{thread__drd__entry_8c_a919272f048aaf3454587b9c8dc4f3f2c}{DRD\+\_\+\+Get\+\_\+\+Diagnosis}} (\mbox{\hyperlink{struct_d_r_d___r_e_s_u_l_t__t}{DRD\+\_\+\+RESULT\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+\_\+\+DRD\+\_\+\+Result)
\begin{DoxyCompactList}\small\item\em return the diagnosis \end{DoxyCompactList}\item 
\mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a98e2673f5c36106f6c0f321470cd8399}{DRD\+\_\+\+Get\+\_\+\+Diag\+\_\+n\+Sample}} (void)
\begin{DoxyCompactList}\small\item\em return the 1st sample of the diagnosed window \end{DoxyCompactList}\item 
void \mbox{\hyperlink{thread__drd__entry_8c_af9f58bb4df45608b2569237b2f1394d2}{thread\+\_\+drd\+\_\+entry}} (void)
\begin{DoxyCompactList}\small\item\em A description of the function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_ae126bfa5afb30426488033061d003f7b}{ecg\+\_\+raw}} \mbox{[}\mbox{\hyperlink{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Raw ecg, as captured. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_ac6cdba5e326f81308edf1b95ac68a7e3}{drd\+\_\+init}} = 0
\begin{DoxyCompactList}\small\item\em Used for initializing the DRD. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_ada03e7ae830a0d3ca19eda955d02b65b}{drd\+\_\+running}} = false
\begin{DoxyCompactList}\small\item\em Flag to indicate that the DRD is executing the algorythm. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a71830929b59d7ad4b3c25a51c73ce5f5}{win\+\_\+id}} = 0
\begin{DoxyCompactList}\small\item\em Window number or identifier. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_abab4c6e55a69b99a681610e1d63fefa4}{first\+Sample\+\_\+\+Wnd}} = 0
\begin{DoxyCompactList}\small\item\em 1st sample in the analyzing window \end{DoxyCompactList}\item 
static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} \mbox{\hyperlink{thread__drd__entry_8c_a840af1382b83b1ea36eb601acf243e52}{first\+Sample\+\_\+\+Drd}} = 0
\begin{DoxyCompactList}\small\item\em 1st sample in the diagnosed DRD \end{DoxyCompactList}\item 
static \mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} \mbox{\hyperlink{thread__drd__entry_8c_a4b488dc20e6c491893423e1ccc77c11b}{drd\+\_\+diag}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVersion}{Version}
v1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
16/01/2018 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
ltorres 
\end{DoxyAuthor}
\begin{DoxyWarning}{Warning}
author date version .-\/ Edition 
\end{DoxyWarning}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000081}{Bug}}]\end{DoxyRefDesc}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}\label{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!ECG\_WIN\_SIZE\_EXT@{ECG\_WIN\_SIZE\_EXT}}
\index{ECG\_WIN\_SIZE\_EXT@{ECG\_WIN\_SIZE\_EXT}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{ECG\_WIN\_SIZE\_EXT}{ECG\_WIN\_SIZE\_EXT}}
{\footnotesize\ttfamily \#define ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT~(\mbox{\hyperlink{thread__drd__entry_8c_a88892e56b679bcb16ca835aba5b59c50}{i\+PMK\+\_\+\+FRONT\+\_\+\+PORCH}} + \mbox{\hyperlink{thread__drd__entry_8c_a0b9eb0143f3960aa8dba920359a0eef5}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+RAW}})}



ECG buffer to store an extended raw (includes i\+PMK removed) 

\Hypertarget{thread__drd__entry_8c_a0b9eb0143f3960aa8dba920359a0eef5}\label{thread__drd__entry_8c_a0b9eb0143f3960aa8dba920359a0eef5} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!ECG\_WIN\_SIZE\_RAW@{ECG\_WIN\_SIZE\_RAW}}
\index{ECG\_WIN\_SIZE\_RAW@{ECG\_WIN\_SIZE\_RAW}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{ECG\_WIN\_SIZE\_RAW}{ECG\_WIN\_SIZE\_RAW}}
{\footnotesize\ttfamily \#define ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+RAW~((\mbox{\hyperlink{drd_8h_a7e2271364d5cff6f472a2a5a859083d2}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+DRD}} \texorpdfstring{$\ast$}{*} 1000) / 150)}



ECG captured at 1 Ksps, processed at 150 sps. 

\Hypertarget{thread__drd__entry_8c_a88892e56b679bcb16ca835aba5b59c50}\label{thread__drd__entry_8c_a88892e56b679bcb16ca835aba5b59c50} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!iPMK\_FRONT\_PORCH@{iPMK\_FRONT\_PORCH}}
\index{iPMK\_FRONT\_PORCH@{iPMK\_FRONT\_PORCH}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{iPMK\_FRONT\_PORCH}{iPMK\_FRONT\_PORCH}}
{\footnotesize\ttfamily \#define i\+PMK\+\_\+\+FRONT\+\_\+\+PORCH~8}



Front porch used in the i\+PMK removal (must be bigger than the shadow defined in the i\+PMK\+\_\+removal function) 



\doxysubsection{Typedef Documentation}
\Hypertarget{thread__drd__entry_8c_a9f54678ef902e0c16555d98e4ca2538c}\label{thread__drd__entry_8c_a9f54678ef902e0c16555d98e4ca2538c} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!ecg\_win\_drd\_t@{ecg\_win\_drd\_t}}
\index{ecg\_win\_drd\_t@{ecg\_win\_drd\_t}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{ecg\_win\_drd\_t}{ecg\_win\_drd\_t}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} ecg\+\_\+win\+\_\+drd\+\_\+t\mbox{[}\mbox{\hyperlink{drd_8h_a7e2271364d5cff6f472a2a5a859083d2}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+DRD}}\mbox{]}}



ECG samples to be processed. 

\Hypertarget{thread__drd__entry_8c_a19acc858a547116cc99b405691f85608}\label{thread__drd__entry_8c_a19acc858a547116cc99b405691f85608} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!ecg\_win\_raw\_t@{ecg\_win\_raw\_t}}
\index{ecg\_win\_raw\_t@{ecg\_win\_raw\_t}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{ecg\_win\_raw\_t}{ecg\_win\_raw\_t}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} ecg\+\_\+win\+\_\+raw\+\_\+t\mbox{[}\mbox{\hyperlink{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT}}\mbox{]}}



ECG captured samples. 



\doxysubsection{Function Documentation}
\Hypertarget{thread__drd__entry_8c_aeb1975ec3e8162dc709c60acc76806fc}\label{thread__drd__entry_8c_aeb1975ec3e8162dc709c60acc76806fc} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!Diagnose@{Diagnose}}
\index{Diagnose@{Diagnose}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{Diagnose()}{Diagnose()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} Diagnose (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}}}]{r\+Prev,  }\item[{\mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}}}]{r\+Curr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



gives a diagnosis based on the last two rythm classification 


\begin{DoxyParams}{Parameters}
{\em r\+Prev} & \mbox{[}in\mbox{]} rhythm of previous classification \\
\hline
{\em r\+Curr} & \mbox{[}in\mbox{]} rhythm of current classification\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
next state 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_aeb1975ec3e8162dc709c60acc76806fc_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_abbbf55ad0a3342ceaf347eb3b2e615e0}\label{thread__drd__entry_8c_abbbf55ad0a3342ceaf347eb3b2e615e0} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!Downsample\_ECG@{Downsample\_ECG}}
\index{Downsample\_ECG@{Downsample\_ECG}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{Downsample\_ECG()}{Downsample\_ECG()}}
{\footnotesize\ttfamily static void Downsample\+\_\+\+ECG (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Src,  }\item[{\mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Dst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



downsamples from 1000Hz to 150Hz. As division is not exact 7,6,7,7,6,7... src samples are used to generate a dst sample. 


\begin{DoxyParams}{Parameters}
{\em p\+Src} & \mbox{[}in\mbox{]} pointer to adquired ecg buffer \\
\hline
{\em p\+Dtn} & \mbox{[}in\mbox{]} pointer to downsampled ecg buffer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_abbbf55ad0a3342ceaf347eb3b2e615e0_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_aacbcb665fe537222e7b96f111e61ae94}\label{thread__drd__entry_8c_aacbcb665fe537222e7b96f111e61ae94} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Analyze@{DRD\_Analyze}}
\index{DRD\_Analyze@{DRD\_Analyze}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Analyze()}{DRD\_Analyze()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} DRD\+\_\+\+Analyze (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}}}]{init,  }\item[{\mbox{\hyperlink{drd_8h_a09b2fccc54d1debfbc2e2d97318859b8}{RHYTHM\+\_\+e}} \texorpdfstring{$\ast$}{*}}]{p\+Rhythm,  }\item[{\mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}}}]{adult }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



gets the ecg, adapts it and performs the analysis 


\begin{DoxyParams}{Parameters}
{\em init} & \mbox{[}in\mbox{]} DRD filters are initialized before window processed \\
\hline
{\em p\+Rhythm} & \mbox{[}out\mbox{]} returns the rhythm \\
\hline
{\em adult} & \mbox{[}in\mbox{]} flag to set the patient type (adult vs. pediatric)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if the window has been analyzed 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{thread__drd__entry_8c_aacbcb665fe537222e7b96f111e61ae94_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_aacbcb665fe537222e7b96f111e61ae94_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_a72940a1f7515f9d42ef708a671d73f81}\label{thread__drd__entry_8c_a72940a1f7515f9d42ef708a671d73f81} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Diag\_Ready@{DRD\_Diag\_Ready}}
\index{DRD\_Diag\_Ready@{DRD\_Diag\_Ready}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Diag\_Ready()}{DRD\_Diag\_Ready()}}
{\footnotesize\ttfamily void DRD\+\_\+\+Diag\+\_\+\+Ready (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



DRD\+\_\+\+Diag\+\_\+\+Ready. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{thread__drd__entry_8c_a72940a1f7515f9d42ef708a671d73f81_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_a72940a1f7515f9d42ef708a671d73f81_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_a98e2673f5c36106f6c0f321470cd8399}\label{thread__drd__entry_8c_a98e2673f5c36106f6c0f321470cd8399} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Get\_Diag\_nSample@{DRD\_Get\_Diag\_nSample}}
\index{DRD\_Get\_Diag\_nSample@{DRD\_Get\_Diag\_nSample}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Get\_Diag\_nSample()}{DRD\_Get\_Diag\_nSample()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} DRD\+\_\+\+Get\+\_\+\+Diag\+\_\+n\+Sample (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



return the 1st sample of the diagnosed window 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1st sample of the diagnosed window 
\end{DoxyReturn}
\Hypertarget{thread__drd__entry_8c_a919272f048aaf3454587b9c8dc4f3f2c}\label{thread__drd__entry_8c_a919272f048aaf3454587b9c8dc4f3f2c} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Get\_Diagnosis@{DRD\_Get\_Diagnosis}}
\index{DRD\_Get\_Diagnosis@{DRD\_Get\_Diagnosis}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Get\_Diagnosis()}{DRD\_Get\_Diagnosis()}}
{\footnotesize\ttfamily \mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} DRD\+\_\+\+Get\+\_\+\+Diagnosis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_d_r_d___r_e_s_u_l_t__t}{DRD\+\_\+\+RESULT\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+\_\+\+DRD\+\_\+\+Result }\end{DoxyParamCaption})}



return the diagnosis 


\begin{DoxyParams}{Parameters}
{\em p\+\_\+drd\+\_\+data} & pointer to struct where to store data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the diagnosis 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{thread__drd__entry_8c_a919272f048aaf3454587b9c8dc4f3f2c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_a919272f048aaf3454587b9c8dc4f3f2c_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_a1c1760dc4053276d1992666efc9dd6cf}\label{thread__drd__entry_8c_a1c1760dc4053276d1992666efc9dd6cf} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Is\_Running@{DRD\_Is\_Running}}
\index{DRD\_Is\_Running@{DRD\_Is\_Running}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Is\_Running()}{DRD\_Is\_Running()}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} DRD\+\_\+\+Is\+\_\+\+Running (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Check if DRD is running. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool\+\_\+t indicating if DRD is running 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_a1c1760dc4053276d1992666efc9dd6cf_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_ae7693334ab794c75495e50a59d09fbe2}\label{thread__drd__entry_8c_ae7693334ab794c75495e50a59d09fbe2} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Start\_Analysis@{DRD\_Start\_Analysis}}
\index{DRD\_Start\_Analysis@{DRD\_Start\_Analysis}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Start\_Analysis()}{DRD\_Start\_Analysis()}}
{\footnotesize\ttfamily void DRD\+\_\+\+Start\+\_\+\+Analysis (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Start DRD analysis algorithm. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{thread__drd__entry_8c_ae7693334ab794c75495e50a59d09fbe2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_ae7693334ab794c75495e50a59d09fbe2_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_ababb96cb65ae9fa237773082c69b0b9c}\label{thread__drd__entry_8c_ababb96cb65ae9fa237773082c69b0b9c} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!DRD\_Stop\_Analysis@{DRD\_Stop\_Analysis}}
\index{DRD\_Stop\_Analysis@{DRD\_Stop\_Analysis}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{DRD\_Stop\_Analysis()}{DRD\_Stop\_Analysis()}}
{\footnotesize\ttfamily void DRD\+\_\+\+Stop\+\_\+\+Analysis (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Stop DRD Analysis. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{thread__drd__entry_8c_ababb96cb65ae9fa237773082c69b0b9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_ababb96cb65ae9fa237773082c69b0b9c_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_acab42b4fc314a847629b30176678f841}\label{thread__drd__entry_8c_acab42b4fc314a847629b30176678f841} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!Execute\_DRD@{Execute\_DRD}}
\index{Execute\_DRD@{Execute\_DRD}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{Execute\_DRD()}{Execute\_DRD()}}
{\footnotesize\ttfamily static void Execute\+\_\+\+DRD (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Execute and monitor the DRD execution. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000021}{Todo}}]pending things to be done\end{DoxyRefDesc}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_acab42b4fc314a847629b30176678f841_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_acab42b4fc314a847629b30176678f841_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_a4a8ef9e7fadb3d1f81ac4ca405a954f7}\label{thread__drd__entry_8c_a4a8ef9e7fadb3d1f81ac4ca405a954f7} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!Send\_DRD\_Queue@{Send\_DRD\_Queue}}
\index{Send\_DRD\_Queue@{Send\_DRD\_Queue}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{Send\_DRD\_Queue()}{Send\_DRD\_Queue()}}
{\footnotesize\ttfamily static void Send\+\_\+\+DRD\+\_\+\+Queue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{event__ids_8h_a610cd7de90c58acf8dfb3345f1e53697}{EVENT\+\_\+\+ID\+\_\+e}}}]{ev }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Process events related to DRD. 


\begin{DoxyParams}{Parameters}
{\em ev} & event identifier \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_a4a8ef9e7fadb3d1f81ac4ca405a954f7_icgraph}
\end{center}
\end{figure}
\Hypertarget{thread__drd__entry_8c_af9f58bb4df45608b2569237b2f1394d2}\label{thread__drd__entry_8c_af9f58bb4df45608b2569237b2f1394d2} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!thread\_drd\_entry@{thread\_drd\_entry}}
\index{thread\_drd\_entry@{thread\_drd\_entry}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{thread\_drd\_entry()}{thread\_drd\_entry()}}
{\footnotesize\ttfamily void thread\+\_\+drd\+\_\+entry (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



A description of the function. 


\begin{DoxyParams}{Parameters}
{\em void} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000022}{Todo}}]pending things to be done\end{DoxyRefDesc}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_af9f58bb4df45608b2569237b2f1394d2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{thread__drd__entry_8c_af9f58bb4df45608b2569237b2f1394d2_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{thread__drd__entry_8c_a4b488dc20e6c491893423e1ccc77c11b}\label{thread__drd__entry_8c_a4b488dc20e6c491893423e1ccc77c11b} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!drd\_diag@{drd\_diag}}
\index{drd\_diag@{drd\_diag}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{drd\_diag}{drd\_diag}}
{\footnotesize\ttfamily \mbox{\hyperlink{thread__drd__entry_8h_aba2ac2f93bdc718f73db80fd93578b45}{DRD\+\_\+\+DIAG\+\_\+e}} drd\+\_\+diag\hspace{0.3cm}{\ttfamily [static]}}

\Hypertarget{thread__drd__entry_8c_ac6cdba5e326f81308edf1b95ac68a7e3}\label{thread__drd__entry_8c_ac6cdba5e326f81308edf1b95ac68a7e3} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!drd\_init@{drd\_init}}
\index{drd\_init@{drd\_init}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{drd\_init}{drd\_init}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} drd\+\_\+init = 0\hspace{0.3cm}{\ttfamily [static]}}



Used for initializing the DRD. 

\Hypertarget{thread__drd__entry_8c_ada03e7ae830a0d3ca19eda955d02b65b}\label{thread__drd__entry_8c_ada03e7ae830a0d3ca19eda955d02b65b} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!drd\_running@{drd\_running}}
\index{drd\_running@{drd\_running}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{drd\_running}{drd\_running}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a449976458a084f880dc8e3d29e7eb6f5}{bool\+\_\+t}} drd\+\_\+running = false\hspace{0.3cm}{\ttfamily [static]}}



Flag to indicate that the DRD is executing the algorythm. 

\Hypertarget{thread__drd__entry_8c_ae126bfa5afb30426488033061d003f7b}\label{thread__drd__entry_8c_ae126bfa5afb30426488033061d003f7b} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!ecg\_raw@{ecg\_raw}}
\index{ecg\_raw@{ecg\_raw}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{ecg\_raw}{ecg\_raw}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a269259c924dce846340ddbb810db2e3c}{int16\+\_\+t}} ecg\+\_\+raw\mbox{[}\mbox{\hyperlink{thread__drd__entry_8c_ac44f2ac331c8a33cf1b834de642e2527}{ECG\+\_\+\+WIN\+\_\+\+SIZE\+\_\+\+EXT}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Raw ecg, as captured. 

\Hypertarget{thread__drd__entry_8c_a840af1382b83b1ea36eb601acf243e52}\label{thread__drd__entry_8c_a840af1382b83b1ea36eb601acf243e52} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!firstSample\_Drd@{firstSample\_Drd}}
\index{firstSample\_Drd@{firstSample\_Drd}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{firstSample\_Drd}{firstSample\_Drd}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} first\+Sample\+\_\+\+Drd = 0\hspace{0.3cm}{\ttfamily [static]}}



1st sample in the diagnosed DRD 

\Hypertarget{thread__drd__entry_8c_abab4c6e55a69b99a681610e1d63fefa4}\label{thread__drd__entry_8c_abab4c6e55a69b99a681610e1d63fefa4} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!firstSample\_Wnd@{firstSample\_Wnd}}
\index{firstSample\_Wnd@{firstSample\_Wnd}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{firstSample\_Wnd}{firstSample\_Wnd}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} first\+Sample\+\_\+\+Wnd = 0\hspace{0.3cm}{\ttfamily [static]}}



1st sample in the analyzing window 

\Hypertarget{thread__drd__entry_8c_a71830929b59d7ad4b3c25a51c73ce5f5}\label{thread__drd__entry_8c_a71830929b59d7ad4b3c25a51c73ce5f5} 
\index{thread\_drd\_entry.c@{thread\_drd\_entry.c}!win\_id@{win\_id}}
\index{win\_id@{win\_id}!thread\_drd\_entry.c@{thread\_drd\_entry.c}}
\doxysubsubsection{\texorpdfstring{win\_id}{win\_id}}
{\footnotesize\ttfamily \mbox{\hyperlink{_s_c_e_2types__basic_8h_a06896e8c53f721507066c079052171f8}{uint32\+\_\+t}} win\+\_\+id = 0\hspace{0.3cm}{\ttfamily [static]}}



Window number or identifier. 

